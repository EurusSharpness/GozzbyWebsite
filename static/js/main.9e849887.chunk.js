(this.webpackJsonpweb_project=this.webpackJsonpweb_project||[]).push([[0],{474:function(e,t,n){},492:function(e,t,n){},501:function(e,t,n){},504:function(e,t,n){},563:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(20),s=n.n(c);n(474),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(19),o=n.n(i),l=n(32),u=n(30),d=(n(154),n(155),n(227),n(229),n(606)),j=n(409),b=n(135),h=n(410),p=n(91),x=n(254),m=n(407),f=n(188);n(489),n(564);0===f.a.apps.length&&f.a.initializeApp({apiKey:"AIzaSyCJsHJXQPx5K2dmSvLLPyvV1XrSBvB8dVQ",authDomain:"webproject-c5878.firebaseapp.com",databaseURL:"https://webproject-c5878-default-rtdb.europe-west1.firebasedatabase.app",projectId:"webproject-c5878",storageBucket:"webproject-c5878.appspot.com",messagingSenderId:"448524087667",appId:"1:448524087667:web:09d602a579731fcc2f5506",measurementId:"G-6JNYH4QH5K"});var O=f.a.auth(),g=f.a.auth.EmailAuthProvider,w=f.a.firestore(),y=w.collection("users"),v=w.collection("products"),k=function(){function e(t,n){Object(x.a)(this,e),this.doc=t,this.name=n.name,this.cart=n.cart}return Object(m.a)(e,[{key:"addItem",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.cart){e.next=3;break}return console.error("Cannot add item, something wrong with data"),e.abrupt("return");case 3:return this.cart.hasOwnProperty(t)||(this.cart[t]=0),this.cart[t]++,e.next=7,this.doc.update({cart:this.cart});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeItemQuantity",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.cart){e.next=3;break}return console.error("Cannot remove item, something is wrong with data!"),e.abrupt("return");case 3:if(this.cart.hasOwnProperty(t)){e.next=6;break}return console.error("User doesn't have the item in his cart! itemID - ".concat(t)),e.abrupt("return");case 6:if(0!==n){e.next=10;break}return e.next=9,this.deleteItem(t);case 9:return e.abrupt("return");case 10:return(r=this.copyCart())[t]=n,e.next=14,this.doc.update({cart:r});case 14:this.cart[t]=n;case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteItem",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.cart){e.next=3;break}return console.error("Cannot remove item, something is wrong with data!"),e.abrupt("return");case 3:if(this.cart.hasOwnProperty(t)){e.next=6;break}return console.error("User doesn't have the item in his cart! itemID - ".concat(t)),e.abrupt("return");case 6:return delete(n=this.copyCart())[t],e.next=10,this.doc.update({cart:n});case 10:delete this.cart[t];case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearCart",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cart!=={}){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.doc.update({cart:{}});case 4:this.cart={};case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"copyCart",value:function(){var e={};for(var t in this.cart)e[t]=this.cart[t];return e}}]),e}(),C=n(446),I=n(8);function S(){return Object(I.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"x-large",marginTop:"5%"},children:[Object(I.jsx)(C.b,{className:"fa fa-spinner fa-spin fa-3x fa-fw",size:150,width:"100%"}),Object(I.jsx)("div",{style:{fontSize:"xxx-large",marginLeft:"50px"},children:"Loading... Gozzby store"})]})}n(492);var N=n.p+"static/media/productback.9e338053.jpg",E=n(129),z=n(277),B=n(133),P=n(448),A=n(623),H=n(603),T=n(604),F=n(605),L=n(626),q=n(602),D=(n(493),n(494),n(495),n(36)),G=n(57),R=(n(320),"none"),U=null,W=function e(t,n){Object(x.a)(this,e),this.name=n.name,this.id=t,this.imagePath=n.imagePath,this.price=n.price,this.quantity=n.quantity,this.brand=n.brand,this.description=n.description};function Q(e){return K.apply(this,arguments)}function K(){return(K=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get().then((function(e){var n=[];e.docs.forEach((function(e){var t=e.data();n.push(new W(Number(e.id),{name:t.name,imagePath:t.imagePath,quantity:t.quantity,brand:t.brand,price:t.price,description:t.description}))})),t(n)})).catch((function(){return console.log("something went wrong somewhere!")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){O.signOut().then((function(){e.history.push("/")})).catch((function(e){alert(e.message)}))}var Z=!1;function J(e,t,n,r){U=r;var a=e.slice();return console.log("Sorting by: "+t),console.log("Filter by: "+n),1===t?a=e.sort((function(e,t){return e.price-t.price})):2===t&&(a=e.sort((function(e,t){return t.price-e.price}))),n!==R&&(a=e.filter((function(e){return e.brand===n}))),console.log(a),Object(I.jsxs)(q.a,{children:[a.map((function(e){return function(e){var t=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Z){t.next=5;break}return G.b.error("Wait for the process to finish"),t.abrupt("return");case 5:Z=!0;case 6:return t.next=8,G.b.promise(U.addItem(e.id),{pending:{render:function(){return"Adding item "+e.name+" to the cart"},icon:!1},success:{render:function(){return console.log("adding to cart"),"".concat(e.name," been successfully added to your cart")},icon:"\ud83d\udfe2"},error:{render:function(e){var t=e.data;return"Failed to add item to the cart - ".concat(t.message)}}},{toastId:"1234",autoClose:1e3,onClose:function(){return Z=!1}});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{style:{paddingTop:"50px",paddingBottom:"50px"},className:"col-md-4 mb-4 d-flex align-items-stretch",children:Object(I.jsxs)(D.a,{alignment:"center",children:[Object(I.jsx)(D.e,{className:"img-fluid",src:e.imagePath,alt:"...",position:"top"}),Object(I.jsx)("br",{}),Object(I.jsxs)(D.b,{children:[Object(I.jsx)(D.g,{children:e.name}),Object(I.jsx)(D.f,{children:e.description})]}),Object(I.jsxs)(D.c,{children:[Object(I.jsx)("div",{style:{backgroundColor:"lightgray"},children:Object(I.jsxs)(D.g,{children:["$ ",e.price]})}),Object(I.jsx)(P.a,{onClick:t,style:{width:"100%"},variant:"outlined",children:"Add to cart"})," "]})]})},"unique item id"+e.id)}(e)})),Object(I.jsx)(G.a,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnFocusLoss:!1,pauseOnHover:!1,style:{width:"auto"}})]})}function V(e){return Object(I.jsxs)(A.a,Object(B.a)(Object(B.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-tit    le-vcenter",centered:!0,children:[Object(I.jsx)(A.a.Header,{children:Object(I.jsx)(A.a.Title,{id:"contained-modal-title-vcenter",children:"Welcome to your profile settings!"})}),Object(I.jsx)(A.a.Body,{children:Object(I.jsxs)(H.a,{children:[Object(I.jsxs)(T.a,{children:[Object(I.jsx)(F.a,{className:"mb-3",children:Object(I.jsx)(L.a,{id:"NicknameValue",placeholder:"New Nickname","aria-label":"New Nickname","aria-describedby":"basic-addon2",type:"text"})}),Object(I.jsx)(P.a,{variant:"contained",className:"shadow-none",onClick:Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.onHide(),0!==(n=document.getElementById("NicknameValue").value).length){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.clientdocument.update({name:n}).then((function(){console.log("Name successfully changed to "+n+"!"),e.onNameSet(n)})).catch((function(){return console.log("something went wrong with updating the name!")}));case 6:case"end":return t.stop()}}),t)}))),children:"Save"})]}),Object(I.jsxs)(T.a,{children:[Object(I.jsx)(F.a,{className:"mb-3",children:Object(I.jsx)(L.a,{id:"CurrentPassword",placeholder:"Current password","aria-label":"Current password","aria-describedby":"basic-addon2",type:"password"})}),Object(I.jsx)(F.a,{className:"mb-3",children:Object(I.jsx)(L.a,{id:"Password",placeholder:"New password","aria-label":"New Password","aria-describedby":"basic-addon2",type:"password"})}),Object(I.jsx)(F.a,{className:"mb-3",children:Object(I.jsx)(L.a,{id:"ConfirmPassword",placeholder:"Confirm new password","aria-label":"Confirm password","aria-describedby":"basic-addon2",type:"password"})}),Object(I.jsxs)("p",{style:{color:"#320D8F",fontSize:"large"},children:["* Password must contain: ",Object(I.jsx)("br",{}),"1 Upper case character ",Object(I.jsx)("br",{}),"1 Lower case character ",Object(I.jsx)("br",{}),"1 Number",Object(I.jsx)("br",{}),"Password length must be at least 6."]}),Object(I.jsx)(P.a,{variant:"contained",className:"shadow-none",onClick:Object(l.a)(o.a.mark((function t(){var n,r,a,c,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),r=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),a=document.getElementById("Password").value,c=document.getElementById("ConfirmPassword").value,s=document.getElementById("CurrentPassword").value,0!==a.length){t.next=7;break}return t.abrupt("return");case 7:if(a===c){t.next=10;break}return alert("passwords do not match!"),t.abrupt("return");case 10:if(n.test(a)||r.test(a)){t.next=13;break}return alert("your password is not strong enough! follow the rules"),t.abrupt("return");case 13:return i=g.credential(O.currentUser.email,s),t.next=16,O.currentUser.reauthenticateWithCredential(i).then(Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.currentuser.updatePassword(a).then((function(){console.log("Password successfully changed to "+a+"!"),e.onHide()})).catch((function(){return console.log("something went wrong with updating the name!")}));case 2:case"end":return t.stop()}}),t)})))).catch((function(){console.log("Authentication failed"),alert("password is not strong enough")}));case 16:case"end":return t.stop()}}),t)}))),children:"Save"})]})]})}),Object(I.jsx)(A.a.Footer,{children:Object(I.jsx)(P.a,{variant:"outline-secondary",className:"shadow-none",style:{textShadow:!1},onClick:e.onHide,children:"Close"})})]}))}var $=n(624),_=n(609),X=n(627),M=n(612),ee=n(137),te=n(610),ne=n(611);function re(e,t){return Object(I.jsx)("div",{children:Object(I.jsx)($.a,{variant:"light",bg:"light",expand:"lg",children:Object(I.jsx)(_.a,{fluid:!0,children:Object(I.jsxs)(te.a,{children:[Object(I.jsx)(ne.a,{children:Object(I.jsx)($.a.Brand,{children:"Gozzby brands"})}),Object(I.jsxs)(ne.a,{children:[Object(I.jsx)(h.a,{onClick:function(){return t(R)},variant:"contained",children:"All"})," "]}),Object(I.jsxs)(ne.a,{children:[Object(I.jsx)(h.a,{onClick:function(){return t("vodka")},variant:"contained",children:"Vokda"})," "]}),Object(I.jsxs)(ne.a,{children:[Object(I.jsx)(h.a,{onClick:function(){return t("beer")},variant:"contained",children:"Beers"})," "]}),Object(I.jsxs)(ne.a,{children:[Object(I.jsx)(h.a,{onClick:function(){return t("whiskey")},variant:"contained",children:"Whiskey"})," "]}),Object(I.jsxs)(ne.a,{children:[Object(I.jsx)(h.a,{onClick:function(){return t("tequila")},variant:"contained",children:"Tequila"})," "]}),Object(I.jsx)(ne.a,{children:Object(I.jsx)($.a.Collapse,{id:"navbar-dark-example",children:Object(I.jsx)(X.a,{children:Object(I.jsxs)(M.a,{id:"nav-dropdown-dark-example",title:"SortBy",children:[Object(I.jsx)(ee.a.Item,{onSelect:function(){return e(1)},children:"Low --\x3e High"}),Object(I.jsx)(ee.a.Item,{onSelect:function(){return e(2)},children:"High --\x3e Low"})]})})})})]})})})})}var ae=n(136),ce=(n(501),n(450)),se=n.n(ce),ie=n(613),oe=n(622);var le=n(41);function ue(e){return Object(I.jsx)(A.a,Object(B.a)(Object(B.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-tit    le-vcenter",centered:!0,children:Object(I.jsxs)(A.a.Header,{children:[Object(I.jsx)(A.a.Title,{id:"contained-modal-title-vcenter",children:"Are you sure you want to delete this item?"}),Object(I.jsxs)(A.a.Body,{children:[Object(I.jsx)(P.a,{variant:"danger",className:"shadow-none",style:{textShadow:!1},onClick:Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.onDelete(e.currentitemid),e.onHide();case 2:case"end":return t.stop()}}),t)}))),children:"Yes"}),Object(I.jsx)(P.a,{variant:"outline-secondary",className:"shadow-none",style:{marginLeft:10,textShadow:!1},onClick:e.onHide,children:"No"})]})]})}))}var de=n(628),je=n(629),be=(n(504),n(325)),he=n.n(be),pe=!0,xe=0;function me(e,t,n,r){return fe.apply(this,arguments)}function fe(){return(fe=Object(l.a)(o.a.mark((function e(t,n,r,a){var c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe){e.next=15;break}return console.log("load client started"),e.next=4,y.doc(t.email).get();case 4:return c=e.sent,s=c.data(),r(new k(y.doc(t.email),s)),i={},e.next=10,v.get();case 10:e.sent.docs.forEach((function(e){if(void 0!==s.cart[e.id]){var t=e.data();i[e.id]=new W(Number(e.id),{name:t.name,imagePath:t.imagePath,quantity:t.quantity,brand:t.brand,price:t.price,description:t.description})}})),n(i),pe=!1,a();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.a.render(Object(I.jsx)(ae.a,{children:Object(I.jsxs)("div",{children:[Object(I.jsx)(le.a,{exact:!0,path:"/",component:function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(u.a)(s,2),d=i[0],j=i[1],b=Object(r.useState)(!1),p=Object(u.a)(b,2),x=p[0],m=p[1];Object(r.useEffect)((function(){return O.onAuthStateChanged((function(t){t&&e.history.push("/store")}))}),[e.history]);var f=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,O.signInWithEmailAndPassword(a,d).then((function(){})).catch((function(e){alert(e.message),m(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return x?Object(I.jsx)(S,{}):Object(I.jsx)("div",{style:{padding:"50px",height:"100vh",backgroundImage:"url(".concat(N,")")},children:Object(I.jsx)(D.h,{style:{width:"100%",textAlign:"center"},children:Object(I.jsx)(D.a,{className:"card-image",style:{display:"inline-block",margin:"0 auto",padding:"3px",backgroundColor:"#8ebf42",backgroundImage:"url(https://mdbcdn.b-cdn.net/img/Photos/Others/pricing-table7.jpg)",width:"28rem"},children:Object(I.jsxs)("div",{className:"text-white rgba-stylish-strong py-5 px-5 z-depth-4",children:[Object(I.jsxs)("div",{className:"text-center",children:[Object(I.jsx)("strong",{children:"Gozzby store"}),Object(I.jsxs)("h3",{className:"white-text mb-5 mt-4 font-weight-bold",children:[Object(I.jsx)("strong",{children:"SIGN"}),Object(I.jsx)("a",{href:"/",className:"green-text font-weight-bold",children:Object(I.jsx)("strong",{children:" IN"})})]})]}),Object(I.jsx)(D.j,{value:a,onChange:function(e){c(e.target.value)},type:"email",id:"form2Example1",className:"form-control",placeholder:"Email address",label:"Your email",validate:"true",labelClass:"white-text"}),Object(I.jsx)(D.j,{onChange:function(e){j(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&f()},value:d,type:"password",id:"form2Example2",className:"form-control",placeholder:"Password",label:"Your password",validate:"true",labelClass:"white-text"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(te.a,{children:Object(I.jsxs)(ne.a,{md:12,sm:12,xs:12,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:["Don't have an account? ",Object(I.jsx)(ae.b,{to:"/signup",children:"Sign up!"})]})}),Object(I.jsx)("br",{}),Object(I.jsx)(te.a,{children:Object(I.jsxs)(ne.a,{md:12,sm:12,xs:12,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:["Forgot your password? ",Object(I.jsx)(ae.b,{to:"/reset_password",children:"Reset password!"})]})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(D.l,{style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"d-flex align-items-center mb-4",children:Object(I.jsx)(h.a,{onClick:f,type:"submit",className:"btn-block z-depth-1",color:"primary",variant:"contained",rounded:"true",startIcon:Object(I.jsx)(oe.a,{}),style:{width:"150px",fontSize:"18px"},children:"Sign in"})})]})})})})}}),Object(I.jsx)(le.a,{path:"/signup",component:function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(u.a)(s,2),d=i[0],j=i[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),x=p[0],m=p[1],f=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),g=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),w=!1,v=function(){var e=document.getElementById("password").value,t=document.getElementById("cpassword").value;f.test(e)?(document.getElementById("password1error").style.color="green",document.getElementById("password1error").innerText="password is strong",w=!0):g.test(e)?(document.getElementById("password1error").style.color="orange",document.getElementById("password1error").innerText="password is midium",w=!0):(document.getElementById("password1error").style.color="red",document.getElementById("password1error").innerText="password is too weak",w=!1),0!==e.length&&(e!==t?(document.getElementById("password2error").style.color="red",document.getElementById("password2error").innerText="passwords do not match !",w=!1):(document.getElementById("password2error").style.color="lightgreen",document.getElementById("password2error").innerText="passwords match !",w=!0),console.log(w))},k=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,y.doc(t).set({cart:{},name:t.split("@")[0]});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Math.random().toString(36).substring(2,15)+"@test.test",t="qwer1234";document.getElementById("emailInput").value=e,document.getElementById("password").value=t,document.getElementById("cpassword").value=t},S=function(){var t=Object(l.a)(o.a.mark((function t(){var n,r,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===a&&C(),v(),console.log(w),n=!1,w){t.next=6;break}return t.abrupt("return");case 6:if(!G.b.isActive("this is love")){t.next=8;break}return t.abrupt("return");case 8:return r=document.getElementById("emailInput").value,c=document.getElementById("password").value,t.next=12,G.b.promise(O.createUserWithEmailAndPassword(r,c),{pending:{render:function(){return"Creating account"},icon:!1},success:{render:function(){return console.log("creating account"),console.log("account created"),n=!0,G.b.info("logging in"),"Account has been created"},icon:"\u2714\ufe0f",autoClose:1e3},error:{render:function(e){var t=e.data;return console.log(a),"Failed to create account - ".concat(t.message)}}},{toastId:"this is love",onClose:function(){n&&k(r).then((function(){e.history.push("/")}))}});case 12:s=t.sent,console.log(s);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{style:{padding:"50px",height:"1500px",backgroundImage:"url(".concat(N,")")},children:Object(I.jsxs)(D.h,{style:{width:"100%",textAlign:"center"},children:[Object(I.jsx)(D.a,{className:"card-image",style:{display:"inline-block",margin:"0 auto",padding:"3px",backgroundColor:"#8ebf42",backgroundImage:"url(https://mdbcdn.b-cdn.net/img/Photos/Others/pricing-table7.jpg)",width:"28rem"},children:Object(I.jsxs)("div",{className:"text-white rgba-stylish-strong py-5 px-5 z-depth-4",children:[Object(I.jsxs)("div",{className:"text-center",children:[Object(I.jsx)("strong",{children:"Gozzby store"}),Object(I.jsxs)("h3",{className:"white-text mb-5 mt-4 font-weight-bold",children:[Object(I.jsx)("strong",{children:"SIGN"}),Object(I.jsx)("a",{href:"/signup",link:"/signup",className:"green-text font-weight-bold",children:Object(I.jsx)("strong",{children:" Up"})})]})]}),Object(I.jsx)(D.j,{value:a,onChange:function(e){c(e.target.value)},type:"email",id:"emailInput",className:"form-control",label:"Your email",validate:"true",labelClass:"white-text"}),Object(I.jsx)(D.j,{onChange:function(e){j(e.target.value),v()},value:d,type:"password",id:"password",className:"form-control",label:"password",validate:"true",labelClass:"white-text"}),Object(I.jsx)(D.j,{onChange:function(e){m(e.target.value),v()},onKeyDown:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=3;break}return e.next=3,S();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),value:x,type:"password",id:"cpassword",className:"form-control",label:"Confirm password ",validate:"true",labelClass:"white-text"}),Object(I.jsx)("span",{className:"error",children:Object(I.jsx)("p",{id:"password1error"})}),Object(I.jsx)("span",{className:"error",children:Object(I.jsx)("p",{id:"password2error"})}),Object(I.jsx)("br",{}),Object(I.jsxs)("div",{children:["login into existing account ",Object(I.jsx)(ae.b,{to:"/",children:"Sign in!"})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(D.l,{style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"d-flex align-items-center mb-4",children:Object(I.jsx)(h.a,{onClick:S,className:"btn-block z-depth-1",color:"primary",variant:"contained",startIcon:Object(I.jsx)(ie.a,{}),rounded:"true",style:{width:"150px",fontSize:"18px"},children:"Sign up"})})]})}),Object(I.jsx)(G.a,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!1,style:{width:"auto"}})]})})}}),Object(I.jsx)(le.a,{path:"/reset_password",component:function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],s=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!G.b.isActive("resetToast")){t.next=2;break}return t.abrupt("return");case 2:return n=!1,t.next=5,G.b.promise(O.sendPasswordResetEmail(a),{pending:{render:function(){return"Sending Email"},icon:!1},success:{render:function(){return n=!0,"Email successfully sent"},icon:"\ud83d\udfe2",autoClose:1500},error:{render:function(e){var t=e.data;return"Failed to send email - ".concat(t.message)}}},{toastId:"resetToast",onClose:function(t){console.log(t),n&&e.history.push("/")}});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(I.jsx)("div",{style:{padding:"50px",height:"1500px",backgroundImage:"url(".concat(N,")")},children:Object(I.jsxs)(D.h,{style:{width:"100%",textAlign:"center"},children:[Object(I.jsx)(D.a,{style:{display:"inline-block",margin:"0 auto",padding:"3px",width:"28rem"},children:Object(I.jsxs)(D.b,{children:[Object(I.jsx)(D.d,{className:"form-header warm-flame-gradient rounded",children:Object(I.jsxs)("h3",{className:"my-3",children:[Object(I.jsx)(D.i,{icon:"lock"})," Reset password"]})}),Object(I.jsxs)("form",{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"grey-text",children:Object(I.jsx)(D.j,{placeholder:"email",value:a,onChange:function(e){c(e.target.value)},onKeyDown:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=3;break}return e.next=3,s();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),Object(I.jsx)("br",{}),Object(I.jsx)(h.a,{onClick:s,className:"btn-block z-depth-1",color:"primary",variant:"contained",startIcon:Object(I.jsx)(se.a,{}),rounded:"true",style:{width:"150px",fontSize:"18px"},children:"Send"})]}),Object(I.jsx)("br",{}),Object(I.jsx)(D.k,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(I.jsxs)("div",{className:"font-weight-light",children:["Did you remember your password? ",Object(I.jsx)(ae.b,{to:"/",children:"Sign in!"}),Object(I.jsx)("br",{}),"Not a member? ",Object(I.jsx)(ae.b,{to:"/signup",children:"Sign up!"})]})})]})}),Object(I.jsx)(G.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!1,style:{width:"auto"}})]})})}}),Object(I.jsx)(le.a,{path:"/store",component:function(e){var t=Object(r.useState)(null),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(!1),x=Object(u.a)(i,2),m=x[0],f=x[1],g=Object(r.useState)([]),w=Object(u.a)(g,2),v=w[0],B=w[1],P=Object(r.useState)(!0),A=Object(u.a)(P,2),H=A[0],T=A[1],F=Object(r.useState)(1),L=Object(u.a)(F,2),q=L[0],D=L[1],G=Object(r.useState)(R),U=Object(u.a)(G,2),W=U[0],K=U[1],Z=a.a.useState(!1),$=Object(u.a)(Z,2),_=$[0],X=$[1],M=a.a.useState(null),ee=Object(u.a)(M,2),te=ee[0],ne=ee[1],ae=a.a.useState(""),ce=Object(u.a)(ae,2),se=ce[0],ie=ce[1],oe=a.a.useState(null),le=Object(u.a)(oe,2),ue=le[0],de=le[1],je=0;return Object(r.useEffect)((function(){return O.onAuthStateChanged(function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=11;break}return T(!0),s(n),t.next=5,Q(B);case 5:return t.next=7,y.doc(n.email).get().then((function(e){var t=e.data();console.log(t),ie(e.data().name),null===ue&&de(new k(y.doc(n.email),e.data()))})).catch((function(t){console.log(t.message),Y(e)}));case 7:ne(y.doc(n.email)),T(!1),t.next=12;break;case 11:e.history.push("/");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,ue,e.history]),c?H?Object(I.jsx)("div",{className:"Container",children:Object(I.jsx)(S,{})}):Object(I.jsxs)("div",{style:{backgroundImage:"url(".concat(N,")")},children:[Object(I.jsx)(d.a,{position:"static",color:"default",children:Object(I.jsxs)(j.a,{children:[Object(I.jsxs)(b.a,{variant:"h6",style:{marginLeft:15,flexGrow:1},children:["Gozzby Store ",Object(I.jsx)(E.b,{})]},"storekey"+je++),Object(I.jsxs)(h.a,{style:{resize:"horizontal",overflow:"hidden",height:"100px",width:"200px"},onClick:function(){return e.history.push("/client-cart")},children:[Object(I.jsx)(E.d,{size:50,width:"100%"}),"Go to cart"]},"storekey"+je++),Object(I.jsxs)(b.a,{style:{marginRight:30},onClick:function(){X(!0)},children:[Object(I.jsx)(z.b,{size:50,children:"a"}),"Hi! ",se]}),Object(I.jsxs)(h.a,{color:"inherit",onClick:function(){return Y(e)},children:[Object(I.jsx)(C.a,{size:30}),"Sign out"]}),Object(I.jsx)(V,{show:_,onHide:function(){return X(!1)},clientdocument:te,currentuser:c,onNameSet:function(e){return ie(e)}})]})},"storekey"+je++),Object(I.jsx)(p.a,{open:m,onClose:function(){f(!1)},children:"I'm a drawer"}),re(D,K),v?J(v,q,W,ue):""]},"storekey"+je++):Object(I.jsx)("div",{children:"no user"})}}),Object(I.jsx)(le.a,{path:"/client-cart",component:function(e){var t=Object(r.useState)(!0),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(null),d=Object(u.a)(i,2),j=d[0],b=d[1],h=a.a.useState(null),p=Object(u.a)(h,2),x=p[0],m=p[1],f=a.a.useState(!1),g=Object(u.a)(f,2),w=g[0],y=g[1],v=a.a.useState(!1),k=Object(u.a)(v,2),C=k[0],N=k[1],B=a.a.useState(-1),A=Object(u.a)(B,2),F=A[0],L=A[1],q=a.a.useState(0),D=Object(u.a)(q,2)[1],R=a.a.useState(!0),U=Object(u.a)(R,2)[1];Object(r.useEffect)((function(){return O.onAuthStateChanged(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t,b,m,Y);case 2:if(x){e.next=4;break}return e.abrupt("return");case 4:s(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[x,e]);var W=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=2;break}return e.abrupt("return");case 2:return N(!0),e.next=5,G.b.promise(x.changeItemQuantity(t,x.cart[t]+1),{pending:"Processing",success:"Item quantity increased",error:"Failed to increase quantity"},{onClose:function(){return N(!1)}});case 5:Y(),pe=!0,U(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=2;break}return e.abrupt("return");case 2:return N(!0),e.next=5,G.b.promise(x.changeItemQuantity(t,x.cart[t]-1),{pending:"Processing",success:"Item quantity decreased",error:"Failed to decrease quantity"},{onClose:function(){return N(!1)}});case 5:Y(),pe=!0,U(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=2;break}return e.abrupt("return");case 2:return N(!0),e.next=5,G.b.promise(x.deleteItem(t),{pending:"Processing",success:"Item deleted",error:"Failed to delete item"},{onClose:function(){return N(!1)}});case 5:Y(),pe=!0,U(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=0;if(x&&x.cart&&j){for(var t in x.cart)e+=Number(Number(j[t].price).toFixed())*x.cart[t];console.log("Sum = "+e),xe=e,D(e)}};return c?Object(I.jsx)("div",{className:"Container",children:Object(I.jsx)(S,{})}):Object(I.jsx)("div",{style:{display:"flex",paddingTop:"5%"},children:Object(I.jsxs)(_.a,{fluid:!0,className:"",children:[function(){var t=[{title:"Name",field:"name"},{title:"Brand",field:"brand"},{title:"Image",field:"img",render:function(e){return Object(I.jsx)("img",{src:e.imagePath,alt:"",border:"3",height:"100",width:"100"})}},{title:"Price",field:"price",type:"numeric",render:function(e){return Object(I.jsxs)("h2",{children:["$",e.price]})}},{title:"Quantity",field:"quantity",type:"numeric",render:function(e){return Object(I.jsxs)("div",{children:[Object(I.jsx)(z.a,{size:19,onClick:function(){return W(e.id)}}),Object(I.jsx)("h2",{children:x.cart[e.id]}),Object(I.jsx)(E.a,{size:19,onClick:function(){return Q(e.id)}})]})}},{title:"",render:function(e){return Object(I.jsx)(P.a,{variant:"danger",onClick:function(){L(e.id),y(!0)},children:"Delete"})}}],n=[];for(var r in x.cart)n.push(j[r]);return Object(I.jsxs)("div",{children:[Object(I.jsx)($.a,{variant:"light",bg:"light",expand:"lg",children:Object(I.jsx)(_.a,{fluid:!0,children:Object(I.jsx)(H.a,{children:Object(I.jsxs)(T.a,{children:[" ",Object(I.jsxs)($.a.Brand,{children:[Object(I.jsx)(E.c,{size:28,onClick:function(){pe=!0,e.history.push("/store")}})," Back to store"]})]})})})}),Object(I.jsx)(he.a,{title:"Your Cart",data:n,columns:t,options:{showFirstLastPageButtons:!1,showSelectAllCheckbox:!1,tableLayout:"auto",showTextRowsSelected:!1,pageSize:[n.length]}}),Object(I.jsxs)(de.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",float:"right",width:"100%"},children:[Object(I.jsx)(de.a.Header,{children:"Cart Totals"}),Object(I.jsxs)(je.a,{variant:"flush",children:[Object(I.jsxs)(je.a.Item,{children:["Total : ",xe]}),Object(I.jsx)(je.a.Item,{children:Object(I.jsx)(P.a,{children:"Checkout"})})]})]})]})}(),Object(I.jsx)(ue,{show:w,onHide:function(){y(!1)},onDelete:K,currentitemid:F}),Object(I.jsx)(G.a,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,limit:1,pauseOnFocusLoss:!1,pauseOnHover:!1,rtl:!1,draggable:!0})]})})}})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[563,1,2]]]);
//# sourceMappingURL=main.9e849887.chunk.js.map